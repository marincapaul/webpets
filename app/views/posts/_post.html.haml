%li.mb-6
  .w-full.rounded-lg.shadow.border.md:mt-0.sm:max-w-lg.xl:p-0.bg-gray-800.border-gray-700
    .p-6.space-y-4.md:space-y-6.sm:p-8
      %div.font-bold.leading-tight.tracking-tight.md:text-2xl.text-white
        .items-center
          .flex.items-center
            -if post.pet.avatar.present?
              = image_tag post.pet.avatar, class: "img-thumbnail w-10 h-10 rounded-full object-cover", id: "imgNew"
            - else 
              %img#imgNew.img-fluid.img-thumbnail.w-8.h-8.mx-1.rounded-full.object-cover{:src => image_path('dog_paw.png')}/
            %p= link_to post.pet.name, post.pet
          - if post.media.attached?
            .py-5
              .relative.carousel-height.overflow-hidden.rounded-lg
                = image_tag post.media.first, class: "block w-full h-full object-contain"        
          %p= post.content
          %p.text-base.italic= time_ago_in_words(post.created_at) + " ago"
          .items-center
            %button#comment-icon-button.text-white.inline.focus:outline-none.rounded-full.ml-4.mt-2{onclick: "showComments(#{post.id})"}
              %svg.bi.bi-chat-dots{:fill => "currentColor", :height => "24", :viewbox => "0 0 16 16", :width => "24", :xmlns => "http://www.w3.org/2000/svg"}
                %path{:d => "M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}
                %path{:d => "m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9.06 9.06 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.437 10.437 0 0 1-.524 2.318l-.003.011a10.722 10.722 0 0 1-.244.637c-.079.186.074.394.273.362a21.673 21.673 0 0 0 .693-.125zm.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6c0 3.193-3.004 6-7 6a8.06 8.06 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a10.97 10.97 0 0 0 .398-2z"}
            %span.text-base= post.comments.count
          %div.ml-4{:id => "comment-form-#{post.id}", class: "hidden"}
            = form_with(model: [post, post.comments.build]) do |f|
              .form-group
                .text-base
                  -# = f.label :pet_id, "Post it as:"
                  -# %br/
                  -# = f.select :pet_id, @current_pets, { }, { class: 'border sm:text-base rounded-lg blockp-1.5 mb-2 p-2 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500' }
                = f.text_area :body,:placeholder => "Write a reply!", required: true, class: 'border sm:text-base rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500'
              .flex.flex-row.items-center
                %div{class: "basis-1/2"}
                  %button.btn.text-white.focus:ring-4.focus:outline-none.font-medium.rounded-lg.text-sm.px-5.my-2.text-center.bg-primary-600.hover:bg-primary-700.focus:ring-primary-800
                    = f.submit "Post!", class: 'py-2.5', role: "button"
                %div{class: "basis-1/2 text-base"}
                  Post it as:
                  = f.select :pet_id, @current_pets, { }, { class: 'border sm:text-base rounded-lg block w-full p-1.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500' }
            %ul
              = render post.comments

